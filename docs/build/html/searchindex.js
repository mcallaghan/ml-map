Search.setIndex({"docnames": ["data/acquiring", "data/index", "data/labelling", "index", "introduction/climate-policy-instruments", "introduction/evidence-synthesis", "introduction/index", "introduction/ml-evsyn", "introduction/ml-maps", "mapping/index", "mapping/introduction", "reference/api", "training/bert", "training/embedding", "training/finetuning", "training/index", "training/nested-cv", "training/nested-cv-optimization", "training/params", "training/predictions"], "filenames": ["data/acquiring.md", "data/index.md", "data/labelling.md", "index.md", "introduction/climate-policy-instruments.md", "introduction/evidence-synthesis.md", "introduction/index.md", "introduction/ml-evsyn.md", "introduction/ml-maps.md", "mapping/index.md", "mapping/introduction.md", "reference/api.rst", "training/bert.rst", "training/embedding.md", "training/finetuning.md", "training/index.md", "training/nested-cv.md", "training/nested-cv-optimization.md", "training/params.md", "training/predictions.md"], "titles": ["Acquiring Data", "Data", "Labelling Data", "Tutorial", "A Machine Learning Assisted Map of Climate Policy Instruments", "Evidence Synthesis", "Introduction", "Machine Learning for Evidence Synthesis", "Machine Learning Assisted Systematic Maps", "Creating an interactive map with your results", "Introduction to interactive maps", "API Reference", "BERT and transformer-based models", "Embedding documents", "Fine-tuning a BERT-like model with huggingface", "Training and using a Model", "Nested cross-validation", "Optimizing parameters with nested cross-validation", "Optimizing hyperparameters", "Putting our pipeline together"], "terms": {"come": [0, 19], "from": [0, 12, 14, 16, 18], "openalex": 0, "There": [0, 18], "ar": [0, 2, 4, 7, 8, 12, 14, 16, 17, 18], "more": [0, 2, 12, 14, 16, 18], "detail": [0, 12], "how": [0, 10, 11, 12, 16, 17, 18, 19], "access": 0, "us": [0, 3, 12, 13, 14, 16, 18, 19], "api": [0, 3], "avail": [0, 3, 14, 17], "here": [0, 2, 3, 10, 12, 16], "In": [0, 12, 14, 16, 17], "our": [0, 3, 8, 10, 13, 15, 16, 17, 18], "case": 0, "full": [0, 19], "flexibl": 0, "we": [0, 2, 4, 8, 10, 12, 13, 14, 16, 17, 18, 19], "download": 0, "fortnightli": 0, "snapshot": 0, "make": [0, 4, 10, 13, 15, 16, 18, 19], "thi": [0, 3, 4, 10, 12, 14, 16, 17, 18, 19], "searchabl": 0, "solr": 0, "exampl": [0, 10, 14, 16, 17], "tutori": [0, 14], "small": [0, 14], "sampl": [0, 2, 14, 16, 18], "search": [0, 17], "result": [0, 3, 10, 18, 19], "folder": 0, "import": [0, 2, 14, 16, 18], "o": [0, 16], "chdir": [0, 16], "These": [0, 12, 16, 18], "store": 0, "feather": [0, 2, 14, 18], "file": 0, "panda": [0, 2, 14, 18], "pd": [0, 2, 14, 18], "df": [0, 11, 14, 18], "read_feath": [0, 2, 14, 18], "document": [0, 2, 3, 14, 15, 16, 18], "print": [0, 2, 14, 16, 18], "shape": [0, 2, 18], "head": [0, 2, 14], "52299": [], "6": [], "id": 2, "titl": [14, 18], "abstract": [2, 14, 18], "publication_year": [], "type": [1, 14, 19], "doi": [], "0": [2, 11, 14, 16, 18], "w3080601752": [], "estim": [16, 19], "popul": [], "larg": [4, 12, 14, 16], "anim": [], "degrad": [], "natur": [], "ecosystem": [], "influenc": 16, "2019": 12, "proceed": [], "articl": [], "http": [], "org": [], "10": [], "1109": [], "aipr47015": [], "9174564": [], "1": [2, 11, 14, 16, 18], "w2983378711": [], "workshop": [], "build": 10, "bridg": [], "between": [], "enviro": [], "scope": [], "extent": [], "well": [12, 14, 18], "durat": [], "journal": [], "1093": [], "eurpub": [], "ckz185": [], "071": [], "2": [14, 16, 18], "w1984945498": [], "co2": 14, "captur": [], "storag": [], "bioethanol": [], "plan": [], "biomass": [], "energi": [], "carbon": [], "2011": [], "1016": [], "j": [2, 12, 16], "ijggc": [], "06": [], "004": [], "3": [11, 16, 18], "w651594703": [], "meromict": [], "antarct": [], "lake": [], "record": [], "cli": [], "The": [3, 4, 10, 12, 13, 14, 16, 18, 19], "occur": 12, "close": [], "roc": [], "1996": [], "26749": [], "rstpp": [], "130": [], "73": [], "4": [2, 16, 18], "w2337241238": [], "contribut": 14, "oxygen": [], "photosynthesi": [], "pal": [], "none": [11, 16], "2016": [], "1007": [], "s12583": [], "016": [], "0693": [], "5": [14, 16, 18], "acquir": [1, 3], "label": [1, 3, 12, 14, 16, 18, 19], "inclus": 1, "polici": [1, 3, 6, 12, 14], "instrument": [1, 3, 6, 14], "sector": [1, 14], "i": [2, 3, 4, 10, 11, 12, 14, 16, 17, 18, 19], "labori": 2, "spent": 2, "month": 2, "read": 2, "hand": 2, "pic": [2, 4], "each": [2, 14, 16, 17], "wa": 2, "code": [2, 14, 16], "least": [2, 14], "two": [2, 10, 16], "independ": 2, "coder": 2, "all": [2, 7, 11, 16, 18, 19], "disagr": 2, "A": [2, 3, 6, 10], "also": [2, 7], "includ": [2, 14, 18], "demonstr": [2, 4], "purpos": [2, 16], "subset": 2, "most": 2, "common": [2, 18], "1500": [], "16": [16, 18], "econom": [], "regulatori": [], "inform": [], "educ": [], "train": [3, 12, 17, 18], "govern": [], "strategi": [], "target": [4, 14, 18], "agreement": 14, "8": [2, 11, 14, 16], "01": [], "afolu": [], "02": [], "03": [], "industri": [], "04": [], "05": [11, 16], "transport": 14, "wast": [], "15": [], "cross": [2, 3, 15], "w2119211563": [], "model": [3, 11, 13, 18], "predict": [12, 15, 16, 18], "control": [], "de": [], "reduc": [2, 14, 16], "greenhous": [], "ga": [], "emiss": [2, 14], "now": [14, 16, 17, 18, 19], "an": [3, 10, 13, 14, 16, 17], "im": [], "w1988351148": [], "effect": 14, "taxat": [], "distribut": [], "genera": [], "gener": [2, 3, 14], "along": [], "combin": [17, 18], "hea": [], "w2035581897": [], "abat": [], "untangl": [], "impact": 8, "studi": [], "histor": [], "w4236726219": [], "dioxid": [], "russia": [], "": [10, 14, 16, 17], "electri": [], "investig": [], "futur": [], "nan": [], "w2728105883": [], "nonlinear": [], "fuzzi": [], "incommensur": [], "earth": [], "climat": [3, 6, 8, 12, 14], "system": [], "highli": 17, "binari": [2, 11, 14, 18], "take": [2, 3, 10, 14], "valu": [2, 14, 16, 18], "when": [2, 10, 13, 14, 16], "mean": [2, 12, 16, 17, 18], "deal": 2, "some": [2, 7, 14, 16], "sort": 2, "matplotlib": [2, 16], "pyplot": [2, 16], "plt": [2, 16], "groupbi": 2, "count": 2, "plot": [2, 10, 13], "bar": 2, "ax": 16, "xlabel": [], "denot": 2, "column": [2, 14, 18], "begin": 2, "prefix": 2, "taken": 2, "togeth": [2, 3, 15], "thei": [2, 12], "can": [2, 7, 10, 12, 13, 14, 16, 17, 18, 19], "seen": [2, 18], "multilabel": [2, 15], "task": [2, 12], "zero": 2, "x": [2, 14, 18], "sum": [2, 18], "relev": 2, "usual": [2, 14], "mention": [2, 14], "specif": [2, 4, 14, 16], "refer": [2, 5, 17], "simpli": [2, 12, 16, 17, 18, 19], "talk": 2, "about": [2, 4, 12, 18, 19], "numpi": [2, 16], "np": [2, 16], "seaborn": 2, "sn": 2, "m": 2, "len": [2, 14, 16, 18], "sec": 2, "enumer": [2, 16], "inst": 2, "heatmap": 2, "xticklabel": 2, "yticklabel": 2, "cmap": [2, 18], "blue": [2, 18], "annot": 2, "true": [2, 11, 14, 18], "show": [2, 12, 16], "you": [3, 16, 17, 19], "through": [3, 14, 16], "process": [3, 7, 16, 17], "machin": [3, 6, 12, 14], "learn": [3, 6, 12], "systemat": [3, 4, 6], "map": [3, 6, 14], "literatur": [3, 4, 7], "base": [3, 10, 11, 14, 15, 18], "one": [3, 14, 16, 17, 18], "made": 3, "myst": 3, "nb": 3, "introduct": [3, 9], "evid": [3, 6, 8], "synthesi": [3, 4, 6, 8], "assist": [3, 6], "data": [3, 11, 12, 14, 15, 18], "bert": [3, 15, 18], "transform": [3, 11, 14, 15, 18], "fine": [3, 12, 13, 15], "tune": [3, 12, 13, 15], "like": [3, 8, 15, 16, 18], "huggingfac": [3, 11, 15, 17], "optim": [3, 11, 14, 15, 16], "hyperparamet": [3, 15, 16, 17], "nest": [3, 15], "valid": [3, 15], "paramet": [3, 15, 16], "your": 3, "embed": [3, 10, 15], "creat": [3, 14], "interact": 3, "customtrain": [3, 11, 14, 18], "hf_tokenize_data": [3, 11, 14, 18], "project": 4, "track": 4, "meet": 4, "ambiti": 4, "To": [4, 10, 14, 16, 19], "progress": 4, "need": [4, 13, 14, 16, 17, 18, 19], "fast": 4, "what": [4, 8, 14, 16], "work": [4, 10, 14, 16, 18], "under": 4, "condit": 4, "why": 4, "wide": 4, "dispers": 4, "hard": 4, "effort": 4, "have": [4, 8, 13, 14, 16, 18, 19], "been": [4, 8, 14, 16], "limit": [4, 16], "area": 4, "aim": [4, 8], "identifi": 4, "set": [5, 14, 15, 16, 18], "formal": 5, "method": [5, 14, 17], "time": [7, 14, 16], "consum": 7, "volum": 7, "increas": [7, 16], "help": 7, "substitut": 7, "repetit": 7, "human": [7, 10, 12], "labour": 7, "involv": 7, "form": 8, "product": [8, 16, 18], "which": [8, 12, 14, 16, 17, 18, 19], "out": [8, 14, 16, 18], "ha": [8, 10, 12, 14, 18], "research": 8, "particular": 8, "domain": 8, "typic": 8, "rather": 8, "narrow": 8, "opportun": 8, "entir": 8, "field": 8, "class": [11, 14, 15], "mlmap": [11, 14, 18], "pretrainedmodel": 11, "modul": 11, "arg": [11, 18], "trainingargu": [11, 18], "data_col": 11, "datacol": 11, "train_dataset": [11, 14, 18], "dataset": [11, 13, 15, 16, 17, 18, 19], "eval_dataset": 11, "dict": [11, 16, 18], "str": 11, "token": [11, 15], "pretrainedtokenizerbas": 11, "model_init": 11, "callabl": 11, "compute_metr": 11, "evalpredict": 11, "callback": 11, "list": [11, 14, 16, 18], "trainercallback": 11, "tupl": 11, "lambdalr": 11, "preprocess_logits_for_metr": 11, "tensor": [11, 14, 18], "sourc": [11, 12], "trainer": [11, 14, 17, 18], "compute_loss": [11, 14], "input": 11, "return_output": 11, "fals": [11, 14, 16, 18], "loss": [11, 14], "comput": [11, 16, 17], "By": 11, "default": [11, 14, 18], "return": [11, 14, 16, 17], "first": [11, 13, 14, 16, 17, 18], "element": [11, 16, 19], "subclass": [11, 14, 18], "overrid": 11, "custom": [11, 12], "behavior": 11, "predict_proba": [11, 14, 18], "test_dataset": 11, "bool": 11, "predictionoutput": 11, "model_nam": [11, 14, 18], "turn": [11, 18], "bidirect": 12, "encod": 12, "represent": 12, "devlin": 12, "et": 12, "al": 12, "chang": 12, "text": [10, 12, 14, 18], "put": [3, 10, 12, 14, 15, 17], "veri": [12, 14], "miss": 12, "word": 12, "billion": 12, "sentenc": 12, "alammar": 12, "illustr": [12, 16], "do": [12, 14, 16, 17, 18], "so": [12, 13, 14, 19], "repres": [12, 13, 14, 16], "vector": 12, "differ": [12, 14, 16], "depend": [12, 17], "context": 12, "pretrain": [12, 14], "tradit": 12, "classif": [12, 14, 18], "other": [12, 17], "If": [10, 12, 16], "enough": 12, "should": [10, 12, 16, 17, 18, 19], "distinguish": 12, "policy": 12, "new": [12, 16], "platform": 14, "host": 14, "thousand": 14, "librari": [14, 17], "resourc": 14, "easi": 14, "u": [10, 14, 16], "them": 14, "below": 14, "run": [14, 19], "much": [14, 16], "faster": 14, "gpu": 14, "mai": [14, 16], "stretch": 14, "minim": 14, "version": 14, "smaller": 14, "e": 14, "g": 14, "tini": 14, "background": 14, "either": 14, "pytorch": 14, "tensorflow": 14, "At": 14, "instal": 14, "backend": 14, "see": [14, 16, 17, 18], "requir": [14, 16], "txt": 14, "step": [11, 14], "get": [14, 18], "shown": 14, "format": [10, 14], "256": 14, "random_st": [14, 18], "2023": [14, 18], "reset_index": [14, 18], "drop": [14, 18], "from_dict": 14, "pitfal": [], "promis": [], "adapt": [], "support": 17, "growth": [], "less": [16, 18], "low": [], "road": [], "mainten": [], "serbia": [], "reduct": 15, "suppli": [], "chain": [], "perform": [15, 16, 17, 18], "contract": [], "mode": [], "link": [], "effici": [14, 16], "recommend": 18, "improv": 14, "robust": 16, "economi": [], "home": [], "galm": [], "ml": [], "book": [], "venv": [], "lib": [], "python3": [], "11": [], "site": [], "packag": [], "tqdm": [], "auto": 11, "py": [], "21": [], "tqdmwarn": [], "iprogress": [], "found": 16, "pleas": [], "updat": [], "jupyt": [], "ipywidget": [], "readthedoc": [], "io": [], "en": [], "stabl": [], "user_instal": [], "html": 10, "autonotebook": [], "notebook_tqdm": [], "featur": [], "num_row": [], "next": [14, 16], "distilroberta": [14, 18], "ro": 14, "indic": [14, 16], "procedur": [14, 16, 17, 18], "distil": 14, "prune": 14, "autotoken": 14, "climatebert": 14, "f": [14, 16, 18], "from_pretrain": [14, 18], "def": [14, 16, 18], "tokenize_funct": 14, "pad": 14, "max_length": 14, "tokenized_dataset": 14, "batch": 14, "00": [], "100": 16, "7263": [], "95": [], "input_id": [], "attention_mask": [], "function": [14, 16], "simpl": 14, "right": [14, 18], "befor": [14, 16, 18], "sure": 14, "would": [14, 16, 17, 18], "dropna": 14, "astyp": 14, "int": [11, 14], "7307": [], "automodelforsequenceclassif": [14, 18], "num_label": [14, 18], "onc": [14, 16, 19], "instanti": 14, "appli": 14, "weight": 15, "robertaforsequenceclassif": [], "were": [], "initi": [], "checkpoint": [], "newli": [], "classifi": [], "dens": [], "bia": [], "out_proj": [], "probabl": 14, "down": [], "stream": [], "abl": [], "infer": [], "96": [], "22": [], "epoch": [], "trainoutput": [], "global_step": [], "training_loss": [], "4586603244145711": [], "metric": [17, 18], "train_runtim": [], "23": [], "2386": [], "train_samples_per_second": [], "33": [], "048": [], "train_steps_per_second": [], "131": [], "total_flo": [], "101734962167808": [], "train_loss": [], "design": 14, "mitig": 14, "line": 14, "pari": 14, "deriv": 14, "anthropogen": 14, "forc": [14, 17], "hurrican": 14, "intens": [14, 19], "new_df": 14, "datafram": 14, "pred": [14, 18], "775": [], "72": [], "arrai": [], "1418153": [], "252336": [], "6166077": [], "7189196": [], "dtype": [], "float32": [], "label_id": [], "test_runtim": [], "0209": [], "test_samples_per_second": [], "593": [], "test_steps_per_second": [], "47": [], "797": [], "moment": 14, "logit": 14, "convert": 14, "though": [14, 16], "calibr": 14, "activ": 14, "softmax": 14, "ensur": 14, "add": 14, "up": [14, 15, 16, 18, 19], "good": [14, 18], "neg": 14, "posit": 14, "sigmoid": 14, "multipl": [14, 16], "same": [14, 17], "torch": [14, 18], "nn": 14, "1518": [], "userwarn": [], "implicit": [], "dimens": 13, "choic": 18, "deprec": [], "call": 16, "dim": [], "argument": 19, "self": [], "_call_impl": [], "kwarg": [16, 18], "0836": [], "9164": [], "9656": [], "0344": [], "codebas": 14, "give": [14, 17], "automat": 14, "output": [14, 19], "For": [14, 16], "want": [10, 14, 16, 17, 18], "ani": 14, "possibl": [10, 14, 16], "feed": 14, "matrix": 14, "onli": [14, 16], "let": [10, 14, 16, 17], "re": [14, 18], "queri": 14, "512": 14, "y_prefix": [14, 18], "match": [14, 18], "tmp": [], "ipykernel_3952499": [], "3822594045": [], "runtimewarn": [], "invalid": [], "encount": [], "cast": [], "7": [], "7369": [], "89": [], "innov": [], "pape": [], "global": [], "budget": 17, "viabil": [], "renew": [], "IN": [], "agricultur": 14, "pot": [], "wai": [10, 13, 16, 18], "environment": [], "law": [], "defor": [], "price": 14, "transmiss": [], "mechan": [], "socio": [], "507": [], "regul": [], "automak": [], "r": [], "508": [], "benefit": 14, "509": [], "develop": [], "technologi": [], "510": [], "china": [], "region": [], "trade": [], "experi": [], "511": [], "evalu": [16, 17], "simul": [], "forest": [], "ec": [], "row": [], "ll": [14, 18], "ad": 14, "own": 14, "192": [], "45": [], "2397517016522206e": [], "17": [], "619": [], "67": [], "209": [], "203488067321856": [], "light": 14, "vehicl": 14, "truck": 14, "flight": 14, "paper": [14, 16, 18], "calcul": [14, 16, 18], "tax": 14, "20": 14, "per": 14, "liter": 14, "2025": 14, "petrol": 14, "rise": 14, "50": 14, "2050": 14, "health": 14, "pm2": 14, "its": [14, 16, 19], "implic": 14, "land": 14, "forestri": 14, "redd": 14, "pred_df": 14, "style": 14, "precis": 14, "652": [], "86": [], "nbsp": [], "08": 11, "14": [], "24": [], "56": [], "07": [], "71": [], "12": [], "18": [], "25": [], "choos": 15, "just": [10, 18], "ok": 18, "sever": [17, 18], "beyond": 18, "go": 18, "affect": 18, "cannot": [13, 18], "alwai": 18, "priori": 18, "It": [17, 18], "howev": [16, 17, 18], "best": [16, 17, 18], "ones": 18, "object": [17, 18], "pass": [16, 18], "orign": 18, "explor": [10, 17, 18], "follow": [16, 18, 19], "space": [13, 17, 18], "param": [16, 18], "batch_siz": [], "32": [16, 18], "learning_r": [11, 16, 18], "5e": [11, 16, 18], "3e": [16, 18], "2e": [16, 18], "number": [16, 17], "uniqu": 18, "itertool": [16, 18], "product_dict": [16, 18], "kei": [16, 18], "val": [16, 18], "instanc": [16, 18], "yield": [16, 18], "zip": [16, 18], "param_list": [16, 18], "test": [15, 17, 18], "One": [16, 18], "thing": 18, "separ": [16, 18], "doe": 18, "128": 18, "6840": [], "sklearn": [16, 18], "model_select": [16, 18], "train_test_split": [16, 18], "train_idx": [16, 18], "test_idx": [16, 18], "index": 18, "train_data": 18, "select": [16, 18], "test_data": 18, "6868": [], "43": [], "split": [16, 17, 18], "given": [17, 18], "p": [16, 18], "training_arg": [11, 18], "typeerror": [], "traceback": [], "recent": [], "last": 11, "cell": [], "__init__": [], "output_dir": [11, 18], "6905": [], "80": [], "save_step": [11, 18], "1e9": 18, "adamw_torch": [11, 18], "per_device_train_batch_s": [11, 16, 18], "num_train_epoch": [11, 16, 18], "6812": [], "74": [], "k": [16, 17, 18], "v": 18, "item": 18, "9": 11, "assign": [], "6994": [], "51": [], "setattr": 18, "syntaxerror": [], "mayb": [], "meant": [], "instead": [], "6845": [], "31": [], "7034": [], "66": [], "nameerror": [], "name": [], "defin": [10, 17, 19], "63": [], "36": [], "6420727305942111": [], "0852": [], "962": [], "38150610812928": [], "6659": [], "44": [], "6182928085327148": [], "0947": [], "667": [], "958": [], "confusion_matrix": 18, "confusionmatrixdisplai": 18, "cm": [], "loc": 18, "round": 18, "disp": [], "indexerror": [], "too": [], "mani": [13, 16], "dimension": 15, "6938": [], "65": [], "6307427088419596": [], "0969": [], "659": [], "957": [], "_plot": [], "0x7f7aa85e8d50": [], "6810": [], "84": [], "5941179063585069": [], "1145": [], "598": [], "81": [], "54": [], "82": [], "126": [], "37": [], "116": [], "114": [], "59": [], "42": 11, "110": [], "77": [], "26": [], "13": [], "35": [], "111": [], "122": [], "39": [], "49": [], "62": [], "117": [], "69": [], "55": [], "float64": [], "6824": [], "6150263680352105": [], "121": [], "576": [], "947": [], "got": [], "unexpect": [], "keyword": [], "7101": [], "6482862366570367": [], "1293": [], "547": [], "943": [], "from_predict": 18, "120": [], "115": [], "40": [], "19": [], "123": [], "88": [], "127": [], "58": [], "101": [], "78": [], "92": [], "53": [], "99": [], "79": [], "7334": [], "30": [], "7489": [], "46398993333180744": [], "3439": [], "899": [], "112": [], "851": [], "182985": [], "780651": [], "9102442": [], "7608268": [], "021": [], "384": [], "692": [], "0491": [], "9509": [], "9752": [], "0248": [], "ipykernel_3955069": [], "7199": [], "4568": [], "224": [], "modulenotfounderror": [], "No": [], "f1_score": 18, "y_true": 18, "glue": 18, "f1_p0": 18, "achiev": [10, 16, 18], "f1": [16, 18], "score": [16, 17, 18], "6926": [], "6113914383782281": [], "1159": [], "949": [], "0x7fb83e7198d0": [], "els": [16, 18], "untermin": [], "string": [], "detect": [], "penal": 18, "mistaken": 18, "equal": 18, "where": [16, 18], "unbalanc": 18, "might": 18, "expens": [16, 18], "anoth": 18, "ideal": 18, "behaviour": 18, "infrequ": 18, "heavili": 18, "axi": [16, 18], "listcomp": [], "6752": [], "6151366233825684": [], "0806": [], "716": [], "965": [], "5714285714285715": [], "0x7f6bf45bd990": [], "909091": [], "60": [], "57": [], "y_pred": [], "customtrainingargu": [3, 11, 18], "61": [], "use_class_weight": [11, 18], "metadata": [], "whether": [], "class_weight": [11, 18], "option": [], "float": 11, "64": [], "70": [], "f1_p0c": 18, "overwrite_output_dir": 11, "do_train": 11, "do_ev": 11, "do_predict": 11, "evaluation_strategi": 11, "intervalstrategi": 11, "prediction_loss_onli": 11, "per_device_eval_batch_s": 11, "per_gpu_train_batch_s": 11, "per_gpu_eval_batch_s": 11, "gradient_accumulation_step": 11, "eval_accumulation_step": 11, "eval_delai": 11, "weight_decai": 11, "adam_beta1": 11, "adam_beta2": 11, "999": 11, "adam_epsilon": 11, "1e": 11, "max_grad_norm": 11, "max_step": 11, "lr_scheduler_typ": 11, "schedulertyp": 11, "linear": 11, "warmup_ratio": 11, "warmup_step": 11, "log_level": 11, "passiv": 11, "log_level_replica": 11, "warn": 11, "log_on_each_nod": 11, "logging_dir": 11, "logging_strategi": 11, "logging_first_step": 11, "logging_step": 11, "500": 11, "logging_nan_inf_filt": 11, "save_strategi": 11, "save_total_limit": 11, "save_safetensor": 11, "save_on_each_nod": 11, "no_cuda": 11, "use_cpu": 11, "use_mps_devic": 11, "seed": 11, "data_se": 11, "jit_mode_ev": 11, "use_ipex": 11, "bf16": 11, "fp16": 11, "fp16_opt_level": 11, "o1": 11, "half_precision_backend": 11, "bf16_full_ev": 11, "fp16_full_ev": 11, "tf32": 11, "local_rank": 11, "ddp_backend": 11, "tpu_num_cor": 11, "tpu_metrics_debug": 11, "debug": 11, "debugopt": 11, "dataloader_drop_last": 11, "eval_step": 11, "dataloader_num_work": 11, "past_index": 11, "run_nam": 11, "disable_tqdm": 11, "remove_unused_column": 11, "label_nam": 11, "load_best_model_at_end": 11, "metric_for_best_model": 11, "greater_is_bett": 11, "ignore_data_skip": 11, "fsdp": 11, "fsdpoption": 11, "fsdp_min_num_param": 11, "fsdp_config": 11, "fsdp_transformer_layer_cls_to_wrap": 11, "deepspe": 11, "label_smoothing_factor": 11, "optimizernam": 11, "optim_arg": 11, "adafactor": 11, "group_by_length": 11, "length_column_nam": 11, "length": 11, "report_to": 11, "ddp_find_unused_paramet": 11, "ddp_bucket_cap_mb": 11, "ddp_broadcast_buff": 11, "dataloader_pin_memori": 11, "skip_memory_metr": 11, "use_legacy_prediction_loop": 11, "push_to_hub": 11, "resume_from_checkpoint": 11, "hub_model_id": 11, "hub_strategi": 11, "hubstrategi": 11, "every_sav": 11, "hub_token": 11, "hub_private_repo": 11, "hub_always_push": 11, "gradient_checkpoint": 11, "gradient_checkpointing_kwarg": 11, "include_inputs_for_metr": 11, "fp16_backend": 11, "push_to_hub_model_id": 11, "push_to_hub_organ": 11, "push_to_hub_token": 11, "mp_paramet": 11, "auto_find_batch_s": 11, "full_determin": 11, "torchdynamo": 11, "ray_scop": 11, "ddp_timeout": 11, "1800": 11, "torch_compil": 11, "torch_compile_backend": 11, "torch_compile_mod": 11, "dispatch_batch": 11, "split_batch": 11, "include_tokens_per_second": 11, "neftune_noise_alpha": 11, "default_factori": [], "dataclass": [], "_missing_typ": [], "init": [], "repr": [], "hash": [], "compar": [], "mappingproxi": [], "kw_onli": [], "_field_typ": [], "6916": [], "6433142556084527": [], "0842": [], "704": [], "963": [], "0x7f699eb4f210": [], "ipykernel_3956418": [], "2715420320": [], "futurewarn": [], "seri": [], "__getitem__": [], "treat": [], "integ": [], "consist": [], "ser": [], "iloc": [], "po": [], "9091": [], "c": [], "syntax": [], "perhap": [], "forgot": [], "comma": [], "6675": [], "09": [], "6436171531677246": [], "0963": [], "661": [], "0x7f49b07a7690": [], "ipykernel_3956577": [], "6927": [], "5946118036905924": [], "105": [], "631": [], "954": [], "0x7fe9f5206010": [], "ipykernel_3956732": [], "6841": [], "633426136440701": [], "951": [], "0x7f4acc0fbbd0": [], "ipykernel_3956883": [], "6747": [], "75": [], "5881756676567925": [], "1009": [], "645": [], "956": [], "0x7f26201ec190": [], "ipykernel_3957138": [], "cta": [], "customtraingargu": [], "dir": [], "6781": [], "93": [], "5967085096571181": [], "1019": [], "642": [], "955": [], "0x7f38c8159450": [], "ipykernel_3957300": [], "6808": [], "586647457546658": [], "1199": [], "579": [], "0x7f2a0772eb50": [], "ipykernel_3957455": [], "__annotations__": [], "__class__": [], "__dataclass_fields__": [], "__dataclass_params__": [], "__delattr__": [], "__dict__": [], "__dir__": [], "__doc__": [], "__eq__": [], "__format__": [], "__ge__": [], "__getattribute__": [], "__getstate__": [], "__gt__": [], "__hash__": [], "__init_subclass__": [], "__le__": [], "__lt__": [], "__match_args__": [], "__module__": [], "__ne__": [], "__new__": [], "__post_init__": [], "__reduce__": [], "__reduce_ex__": [], "__repr__": [], "__setattr__": [], "__sizeof__": [], "__str__": [], "__subclasshook__": [], "__weakref__": [], "_n_gpu": [], "_no_sync_in_gradient_accumul": [], "_setup_devic": [], "ddp_timeout_delta": [], "default_optim": [], "devic": 18, "eval_batch_s": [], "framework": [], "get_process_log_level": [], "get_warmup_step": [], "local_process_index": [], "main_process_first": [], "n_gpu": [], "parallel_mod": [], "place_model_on_devic": [], "process_index": [], "set_dataload": [], "set_evalu": [], "set_log": [], "set_lr_schedul": [], "set_optim": [], "set_push_to_hub": [], "set_sav": [], "set_test": [], "set_train": [], "should_log": [], "should_sav": [], "to_dict": [], "to_json_str": [], "to_sanitized_dict": [], "train_batch_s": [], "world_siz": [], "6982": [], "628552065955268": [], "1094": [], "616": [], "952": [], "0x7fb5a0038190": [], "ipykernel_3957619": [], "6257968478732638": [], "5613": [], "205": [], "0x7fb65ff63850": [], "trainer_util": 11, "debug_util": 11, "nonetyp": 11, "6502": [], "6319661935170492": [], "866": [], "731": [], "046": [], "25433740541952": [], "0x7f6e48b49d50": [], "ipykernel_3957946": [], "runtimeerror": [], "1555": [], "trial": 15, "ignore_keys_for_ev": [], "1553": [], "hf_hub_util": [], "enable_progress_bar": [], "1554": [], "inner_training_loop": [], "1556": [], "1557": [], "1558": [], "1559": [], "1560": [], "1860": [], "_inner_training_loop": [], "1857": [], "callback_handl": [], "on_step_begin": [], "state": [], "1859": [], "acceler": [], "accumul": [], "tr_loss_step": [], "training_step": [], "1862": [], "1863": [], "1864": [], "is_torch_tpu_avail": [], "1865": [], "isnan": [], "isinf": [], "1866": [], "1867": [], "inf": [], "averag": 16, "previou": 16, "log": [], "1868": [], "tr_loss": [], "_globalstep_last_log": [], "2725": [], "2722": [], "loss_mb": [], "reduce_mean": [], "detach": [], "2724": [], "compute_loss_context_manag": [], "2727": [], "2728": [], "multi": [], "parallel": [], "48": [], "46": [], "criterion": [], "pos_weight": [], "_wrapped_call_impl": [], "1516": [], "_compiled_call_impl": [], "ignor": [], "misc": [], "1517": [], "1527": [], "1522": [], "don": [], "t": [], "hook": [], "skip": [], "rest": [], "logic": [], "1523": [], "forward": [], "1524": [], "_backward_hook": [], "_backward_pre_hook": [], "_forward_hook": [], "_forward_pre_hook": [], "1525": [], "_global_backward_pre_hook": [], "_global_backward_hook": [], "1526": [], "_global_forward_hook": [], "_global_forward_pre_hook": [], "forward_cal": [], "1529": [], "try": 17, "1530": [], "725": [], "bcewithlogitsloss": [], "724": [], "binary_cross_entropy_with_logit": [], "726": [], "727": [], "728": [], "3195": [], "size_averag": [], "3192": [], "size": 16, "3193": [], "rais": [], "valueerror": [], "must": [], "reduction_enum": [], "expect": [], "cuda": 18, "cpu": 18, "6813": [], "6471598148345947": [], "8535": [], "801": [], "0x7fef69b3f750": [], "is_avail": 18, "6680": [], "6875431537628174": [], "8568": [], "782": [], "049": [], "0x7f5fe6dc51d0": [], "6834": [], "6727205117543539": [], "8604": [], "762": [], "0x7fa5e01cd850": [], "ipykernel_3958531": [], "412456773": [], "6835": [], "6311914920806885": [], "867": [], "045": [], "0x7fcf73d4c390": [], "ipykernel_3958689": [], "1975293931": [], "1277496019999187": [], "2786": [], "373": [], "273": [], "0x7fd0ec4ec810": [], "max": [], "hyparamet": 16, "know": 16, "could": 16, "individu": 16, "anyth": 16, "longer": 16, "reason": 16, "danger": 16, "overfit": 16, "over": 16, "generalis": 16, "avoid": 16, "further": 16, "end": 16, "find": [16, 17], "think": 16, "point": 16, "ever": 16, "appear": 16, "simplifi": 16, "whole": 16, "asid": 16, "remov": 16, "val_idx": 16, "eval": 16, "loop": 16, "withing": 16, "random": 16, "append": 16, "had": 16, "score_df": [], "sort_valu": [], "ascend": [], "learning_": [], "992370": [], "790953": [], "734046": [], "690203": [], "674640": [], "662723": [], "656031": [], "595669": [], "595652": [], "589698": [], "534079": [], "517637": [], "516197": [], "500361": [], "456044": [], "435924": [], "071451": [], "006332": [], "top_idx": 16, "argmax": 16, "best_param": 16, "27": [], "28": [], "9879324982928995": [], "imagin": 16, "idx": 16, "arang": 16, "fig": 16, "subplot": 16, "dpi": 16, "125": 16, "scatter": 16, "train_index": [], "color": 16, "c0": 16, "marker": 16, "c1": 16, "c2": 16, "9698286670978963": [], "1465": [], "_preprocess_data": [], "local": [], "inner": 16, "1462": [], "functool": [], "wrap": [], "func": [], "1463": [], "1464": [], "sanitize_sequ": [], "1467": [], "bound": [], "new_sig": [], "bind": [], "1468": [], "auto_label": [], "1469": [], "_ax": [], "4652": [], "y": [], "norm": [], "vmin": [], "vmax": [], "alpha": [], "linewidth": [], "edgecolor": [], "plotnonfinit": [], "4650": [], "ma": [], "ravel": [], "4651": [], "4654": [], "4655": [], "mpl": [], "rcparam": [], "_intern": [], "classic_mod": [], "4656": [], "markers": [], "collect": [], "pathcollect": [], "0x7f9ab59f2ef0": [], "913006937624954": [], "shuffl": 16, "figsiz": 16, "0x7f0edd6e6f80": [], "9960401378088333": [], "set_ytick": 16, "legend": 16, "9496209510652337": [], "bbox_to_anchor": 16, "9674685849890811": [], "8998849396497782": [], "visualis": [13, 16], "colour": 16, "dot": [10, 16], "9570620201775516": [], "sub_train_idx": 16, "look": [10, 16, 17], "final": 15, "both": 16, "f1_estim": 16, "9676822704382528": [], "7311031477217567": [], "9149026292197294": [], "5645014297246531": [], "nois": 16, "creep": 16, "emploi": [16, 17], "order": 16, "kfold": 16, "kf": 16, "n_split": 16, "cv": 16, "9839279300043712": [], "05992883323075937": [], "9564147929215042": [], "08122985235084179": [], "9723673956212309": [], "8120255874917377": [], "fold": [16, 17], "henc": 16, "9286519661438882": [], "8546514244098988": [], "Then": [16, 17], "highest": 16, "across": [16, 17], "explain": 16, "empti": 16, "mean_scor": 16, "unmatch": [], "9597097107794318": [], "6370144388972954": [], "exactli": [], "9264239032146879": [], "4312641495280639": [], "9934487515342112": [], "85677431285754": [], "66475743": [], "62258135": [], "47783954": [], "48921551": [], "36869961": [], "58324318": [], "38530625": [], "38136268": [], "50268795": [], "28301156": [], "38637435": [], "47511695": [], "61103147": [], "42469877": [], "70912904": [], "56883763": [], "71236349": [], "61371239": [], "62556784": [], "89120997": [], "70483725": [], "89261466": [], "44758775": [], "84827083885424": [], "12302590431970262": [], "7411102201785134": [], "9888812922258017": [], "17876908656175772": [], "7783945178881788": [], "stand": 16, "ins": 16, "9072575756942417": [], "18525742271404133": [], "7012154516420648": [], "again": 16, "against": 16, "notic": 16, "still": 16, "pick": 16, "allow": [10, 16], "suscept": 16, "particularli": 16, "amount": 16, "suffici": 16, "realli": 16, "necessari": 16, "With": [10, 16], "outer": 16, "outer_fold": 16, "outer_train_idx": 16, "inner_fold": 16, "inner_train_idx": 16, "inner_validation_idx": 16, "c3": 16, "8749318873949297": [], "8956661697029581": [], "7647895076409685": [], "repeat": 16, "saw": [10, 16], "assess": 16, "report": 16, "standard": 16, "deviat": 16, "vari": 16, "abov": 16, "those": [16, 17], "itself": 16, "9638139264258877": 16, "9532916594290585": 16, "6633841123771107": 16, "section": 16, "grid": 17, "brute": 17, "approach": 17, "ineffici": 17, "smarter": 17, "interfac": 17, "optuna": 15, "although": 17, "pipelin": [3, 15], "cool": 10, "unless": 10, "remain": 10, "cloud": 10, "internet": 10, "displai": 10, "understand": 10, "worth": 10, "quick": 10, "recap": 10, "browser": 10, "request": 10, "url": 10, "send": 10, "messag": 10, "server": 10, "specifi": 10, "address": 10, "receiv": 10, "respons": 10, "amend": 10, "webpag": 10, "instruct": 10, "javascript": 10, "markup": 10, "languag": 10, "tell": 10, "box": 10, "contain": [10, 19], "imag": 10, "manipul": 10, "behav": [10, 19], "filter": 10, "side": 10, "click": 10, "button": 10, "alreadi": 10, "react": 10, "accordingli": 10, "nice": 13, "hundr": 13, "becaus": 13, "simplest": 17, "previous": 17, "unlik": 17, "therefor": 17, "adjust": 17, "stipul": 17, "ask": 17, "computation": 19, "written": 19, "script": 19, "regener": 19, "provid": 19, "sql": 19, "inspect": 19}, "objects": {"": [[11, 0, 0, "-", "mlmap"]], "mlmap": [[11, 1, 1, "", "CustomTrainer"], [11, 1, 1, "", "CustomTrainingArguments"], [11, 4, 1, "", "hf_tokenize_data"]], "mlmap.CustomTrainer": [[11, 2, 1, "", "compute_loss"], [11, 2, 1, "", "predict_proba"]], "mlmap.CustomTrainingArguments": [[11, 3, 1, "", "class_weights"], [11, 3, 1, "", "use_class_weights"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:attribute", "4": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "attribute", "Python attribute"], "4": ["py", "function", "Python function"]}, "titleterms": {"acquir": 0, "data": [0, 1, 2, 16, 19], "label": 2, "inclus": 2, "polici": [2, 4], "instrument": [2, 4], "type": 2, "sector": 2, "tutori": 3, "refer": [3, 11], "A": 4, "machin": [4, 7, 8], "learn": [4, 7, 8], "assist": [4, 8], "map": [4, 8, 9, 10], "climat": 4, "evid": [5, 7], "synthesi": [5, 7], "introduct": [6, 10], "systemat": 8, "creat": 9, "an": 9, "interact": [9, 10], "your": 9, "result": 9, "api": 11, "bert": [12, 14], "transform": 12, "base": 12, "model": [12, 14, 15, 16, 19], "embed": 13, "document": 13, "fine": 14, "tune": 14, "like": 14, "huggingfac": [14, 18], "dataset": 14, "token": 14, "train": [14, 15, 16], "our": [14, 19], "make": 14, "predict": [14, 19], "multilabel": 14, "us": 15, "nest": [16, 17], "cross": [16, 17], "valid": [16, 17], "optim": [17, 18], "paramet": [17, 18], "hyperparamet": 18, "choos": 18, "class": 18, "weight": 18, "test": 16, "final": [16, 19], "dimension": 13, "reduct": 13, "set": 17, "up": 17, "trial": [17, 19], "optuna": 17, "put": 19, "pipelin": 19, "togeth": 19, "perform": 19}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.viewcode": 1, "sphinx": 57}, "alltitles": {"Acquiring Data": [[0, "acquiring-data"]], "Data": [[1, "data"]], "Labelling Data": [[2, "labelling-data"]], "Inclusion": [[2, "inclusion"]], "Policy Instrument Type": [[2, "policy-instrument-type"]], "Sector": [[2, "sector"]], "Tutorial": [[3, "tutorial"], [3, null]], "Reference": [[3, null]], "A Machine Learning Assisted Map of Climate Policy Instruments": [[4, "a-machine-learning-assisted-map-of-climate-policy-instruments"]], "Evidence Synthesis": [[5, "evidence-synthesis"]], "Introduction": [[6, "introduction"]], "Machine Learning for Evidence Synthesis": [[7, "machine-learning-for-evidence-synthesis"]], "Machine Learning Assisted Systematic Maps": [[8, "machine-learning-assisted-systematic-maps"]], "API Reference": [[11, "module-mlmap"]], "BERT and transformer-based models": [[12, "bert-and-transformer-based-models"]], "Fine-tuning a BERT-like model with huggingface": [[14, "fine-tuning-a-bert-like-model-with-huggingface"]], "Datasets": [[14, "datasets"]], "Tokenization": [[14, "tokenization"]], "Training our model": [[14, "training-our-model"]], "Making predictions with our model": [[14, "making-predictions-with-our-model"]], "Multilabel predictions": [[14, "multilabel-predictions"]], "Training and using a Model": [[15, "training-and-using-a-model"]], "Optimizing hyperparameters": [[18, "optimizing-hyperparameters"]], "Choosing parameters with huggingface": [[18, "choosing-parameters-with-huggingface"]], "Class weighting": [[18, "class-weighting"]], "Nested cross-validation": [[16, "nested-cross-validation"], [16, "id1"]], "Train, Validation, Test data": [[16, "train-validation-test-data"]], "Cross-validation": [[16, "cross-validation"]], "Final model": [[16, "final-model"]], "Creating an interactive map with your results": [[9, "creating-an-interactive-map-with-your-results"]], "Introduction to interactive maps": [[10, "introduction-to-interactive-maps"]], "Embedding documents": [[13, "embedding-documents"]], "Dimensionality reduction": [[13, "dimensionality-reduction"]], "Optimizing parameters with nested cross-validation": [[17, "optimizing-parameters-with-nested-cross-validation"]], "Setting up a trial with optuna": [[17, "setting-up-a-trial-with-optuna"]], "Cross-validation with optuna": [[17, "cross-validation-with-optuna"]], "Putting our pipeline together": [[19, "putting-our-pipeline-together"]], "Trial data": [[19, "trial-data"]], "Final model performance": [[19, "final-model-performance"]], "Predictions": [[19, "predictions"]]}, "indexentries": {}})